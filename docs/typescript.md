# Vue & TypeScript

## Extend Vue prototype

```html
<template>
  <button class="my-button"
          :style="{color: color}"
          @click="onClick">
    <slot></slot>
  </button>
</template>

<script lang="ts">
import Vue from 'vue';
export default Vue.extend({
  props: {
    color: {
      default: '#42b983',
    },
  },
  methods: {
    onClick(event) {
      this.$emit('clicked', event);
    },
  },
  name: 'Button',
});
</script>
```

## Component class decorator

(Angular style). See [vue-class-decorator](https://github.com/vuejs/vue-class-component)

```html
<template>
  <button class="my-button"
          :style="{color: color}"
          @click="onClick">
    <slot></slot>
  </button>
</template>

<script lang="ts">
import Vue from 'vue'
import Component from 'vue-class-component'
@Component({
  props: {
    color: {
      default: '#42b983',
    },
  },
  name: 'Button',
}
export default class Button extends Vue {
  onClick(event) {
    this.$emit('clicked', event);
  },
});
</script>
```

## Component & props decorator.

See [vue-property-decorator](https://github.com/kaorun343/vue-property-decorator)

```html
<template>
  <button class="my-button"
          :style="{color: color}"
          @click="onClick">
    <slot></slot>
  </button>
</template>

<script lang="ts">
import { Component, Vue, Prop } from 'vue-property-decorator';
@Component({
  name: 'Button',
}
export default class Button extends Vue {
  @Prop({ default: '#42b983' })
  color: string

  onClick(event) {
    this.$emit('clicked', event);
  },
});
</script>
```

## Typed components

The component

```html
<!-- Hello.vue -->
<template>
  <div class="hello">
    <h1>{{ msg }}</h1>
  </div>
</template>

<script lang="ts">
import { Component, Vue, Prop } from 'vue-property-decorator';
@Component({})
export default class Hello extends Vue {
  @Prop() message: String;
  msg = 'Welcome';
}
</script>
```

Problem: there is no typing when importing a .vue file.

```js
// Hello.spec.ts
import Hello from './Hello.vue';
describe('Hello Component', () => {
  test('msg is set', () => {
    // component has 'any' type
    const component = new Hello();
    expect(component.msg).toBe('Welcome');
  });
});
```

Solution: Add vueType file

```ts
// Hello.vue.d.ts
// auto generated by https://github.com/ktsn/vuetype
import Vue from 'vue';
export default class Hello extends Vue {
  msg: string;
}
```

Now Hello is typed

```js
// Hello.spec.ts
import Hello from './Hello.vue';
describe('Hello Component', () => {
  test('msg is set', () => {
    // component has Hello type
    const component = new Hello();
    expect(component.msg).toBe('Welcome');
  });
});
```

See also:
https://github.com/ktsn/vuetype
